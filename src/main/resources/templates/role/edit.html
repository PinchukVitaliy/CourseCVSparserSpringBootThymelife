<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit</title>
</head>
<body>
<div class="container table-responsive text-nowrap" th:fragment="content">
    <h2>Edit role</h2>
    <form class="mt-3" name="edit" th:action="@{/role/edit}"  method="POST">
        <input type="hidden" name="id" th:value="${role.id}" >
        <div class="panel panel-primary">
            <div class="panel-heading"><h5>Role management <b th:text=${role.name} style="color:red"></b></h5></div>
            <table class="table table-primary">
                <!-- IF CUSTOMER IS ANONYMOUS -->
                <th:block th:if="${user_no_role.size() == 0}" >
                    <tr >
                        <td colspan="2"><h6>All users in the role</h6></td>
                    </tr>
                </th:block>
                <!-- ELSE -->
                <th:block th:unless="${user_no_role.size() == 0}" >
                    <thead class="thead-light">
                    <tr >
                        <th>Email user</th>
                        <th>Add to role</th>
                    </tr>
                    </thead>
                    <tr th:each="user : ${user_no_role}">
                        <td th:text=${user.email}></td>
                        <td>
                            <input type="checkbox" name="IdsToAdd"  th:value="${user.id}">
                        </td>
                    </tr>
                </th:block>
            </table>
        </div>

        <div class="panel panel-primary">
            <div class="panel-heading"><h5>Delete from the role <b th:text=${role.name} style="color:red"></b></h5>
            </div>
            <table class="table table-secondary">
                <!-- IF CUSTOMER IS ANONYMOUS -->
                <th:block th:if="${role.userList.size() == 0}" >
                    <tr >
                        <td colspan="2"><h6>No users in the role</h6></td>
                    </tr>
                </th:block>
                <!-- ELSE -->
                <th:block th:unless="${role.userList.size() == 0}" >
                    <thead class="thead-dark">
                    <tr >
                        <th>Email user</th>
                        <th>Remove from role</th>
                    </tr>
                    </thead>
                    <tr th:each="user : ${role.userList}">
                        <td th:text=${user.email}></td>
                        <td>
                            <input type="checkbox" name="IdsToDelete" th:value="${user.id}">
                        </td>
                    </tr>
                </th:block>
            </table>
        </div>
        <button type="submit" class="btn btn-primary">Save</button>&nbsp;
        <a th:href="@{'/role/roles'}" class="href btn btn-info btn-xs">Back</a>
    </form>
    <br/>
    <br/>
</div>
</body>
</html>